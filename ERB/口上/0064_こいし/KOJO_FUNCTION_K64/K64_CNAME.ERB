;-------------------------------------------------
;함수명:K64_CNAME
;개  요점:통칭취득함수
;인  수:ARG:0…[생략가능]캐릭터등록번호. 생략했다경우는 MASTER
;　　　 ARG:1…[생략가능]패턴번호. 생략했다경우는 0
;　　　        0. ARG:0의 것과회화중의 2 인칭적인 부르는 법(you라든지 너라든지)
;　　　        1. ARG:0이 있기 전으로, ARG:0 의외로회화중 따위의 상황으로 삼인칭적인 부르는 법(it라든지 이 녀석이라든지)
;　　　        2. ARG:0의 없는 장소에서, 혼잣말등에서의 삼인칭적인 부르는 법(that라든지 그 아이라든지)
;반환값:통칭(캐릭터 라인)
;비  고:식 안의 함수
;코이시가 누군가의 이름을 부를 때에 사용. 어째서 이렇게 되었다…
;통칭에 관한 이론은 인정한다
;
;우선 귀찮았어 최소한만 만든다. 생각하는 것은 그만두었다.
;후부터 기분으로 늘릴지도
;호감도분기라든지 들어갈 수 있으면 울음 그럴지도. 역시 소구분으로 할까나…
;-------------------------------------------------
@K64_CNAME(ARG:0 = -2, ARG:1)
#FUNCTIONS
ARG:0 = ARG:0 == -2 ? MASTER # ARG:0	;ARG:0 생략시의 대응
SIF !INRANGE(ARG:0, 0, CHARANUM - 1)	;부정한 인수의 가드(ARG:0)
	THROW @K64_CNAME로 예외가 발생 섬했다. 범위외의 캐릭터등록번호입니다（{ARG:0}）
SIF !INRANGE(ARG:1, 0, 2)				;부정한 인수의 가드(ARG:1)
	THROW @K64_CNAME로 예외가 발생 섬했다. 범위외의 패턴번호입니다（{ARG:1}）

;3*4의 12 패턴에 분기 해, 매번 매번 분할해 줍는다. 실제 귀찮음
IF ARG:0 == MASTER				;코이시가노예의 이름을 부르는 경우(0, 1, 2)
	ARG:1 += 0
ELSEIF TALENT:(ARG:0):주인님	;코이시가[주인님]의 이름을 부르는 경우(3, 4, 5)
	ARG:1 += 3
ELSEIF NO:(FLAG:2) == 64		;코이시가주인님로, 죠교자나조수의 이름을 부르는 경우(6, 7, 8)
	ARG:1 += 6
ELSE							;코이시가주인님가 아니고, 죠교자나조수의 이름을 부르는 경우(9, 10, 11)
	ARG:1 += 9
ENDIF

;캐릭터 마다의 정의
SELECTCASE NO:(ARG:0)
	CASE 0	;당신. 상황에 따라 여러 가지 불러 나눌 수 있지만… 아직 거기까지는 도달하지 않고
		;디폴트명과 그 이외로 처리를 나누지 않으면 기분 나쁘게 될 것 같은 기분이했다. 「그 이외」는 문장 조립상에서 원래 귀찮지만
		IF CALLNAME:(ARG:0) == "당신"
			LOCALS = 당신/이 아이/그 아이/주인님/주인님/주인님/당신/이 아이/그 아이/당신/이 아이/그 아이
		ELSE
			LOCALS = 당신/이 아이/그 아이/%CALLNAME:(ARG:0)%님/%CALLNAME:(ARG:0)%님/%CALLNAME:(ARG:0)%님/%CALLNAME:(ARG:0)%/%CALLNAME:(ARG:0)%/%CALLNAME:(ARG:0)%/%CALLNAME:(ARG:0)%/%CALLNAME:(ARG:0)%/%CALLNAME:(ARG:0)%
		ENDIF
	CASE 1	;레이무. 혹은레이무님. 주인공 그 1
		LOCALS = 레이무/레이무/레이무/레이무님/레이무님/레이무님/레이무/레이무/레이무/레이무/레이무/레이무
	CASE 2	;마리사. 주인공 그 2
		RETURNF "마리사"
	CASE 11	;플랑드르. 플랑는 너무 나오지 않기 때문에 접점이 조금 저것이지만… 왠지 모르게플랑 분명하게코이시 분명하게누에는 세트군요
		LOCALS = 플랑/플랑/플랑/플랑/플랑/플랑/플랑/플랑/플랑/플랑/플랑/플랑
	CASE 23	;스이카. 지저 연결. 귀신에는 일단의 경의를. 죠교가 진행된 단계에서 바꾼다는 것도손
		LOCALS = 스이카씨/스이카씨/스이카씨/스이카씨/주인님/스이카씨/스이카씨/스이카씨/스이카씨/스이카씨/스이카씨/스이카씨
	CASE 32	;문. 취재 받았으므로 안면이 있지만 잘 모르기 때문에 미묘한 취급. 텐구는 경계대상. 매번 동일 보고 샤메이마루, 이므로 이름을 기억하지 않는다
		;※신문가게가 많이 있는 경우, 이야기가 까다로워지므로 바꾼다. 신문가게→문, 하타테
		IF K64_GETCHARABYNAME("하타테") >= 0
			LOCALS = 당신/이 아이/그 아이/샤메이마루씨/주인님/샤메이마루씨/샤메이마루씨/샤메이마루씨/샤메이마루씨/샤메이마루씨/샤메이마루씨/샤메이마루씨
		ELSE
			LOCALS = 당신/이 아이/그 아이/샤메이마루씨/주인님/샤메이마루씨/신문가게/신문가게/신문가게/신문가게/신문가게/신문가게
		ENDIF
	CASE 36	;시키에이키. 지옥관리연결이라고 하는 것보다는, 반드시 환상향의 유명인
		RETURNF "염라님"
	CASE 40	;니토리. 동방심기앵연결. 갓빠는 지저에도 있는 것 같다. 그러면 격하 취급으로 좋다
		LOCALS = 니토리/니토리/니토리/니토리/니토리/니토리/잡화상씨/잡화상씨/잡화상씨/잡화상씨/잡화상씨/잡화상씨
	CASE 42	;사나에. 혹은 사나에님. 동방 지령전 연결
		LOCALS = 사나에/사나에/사나에/사나에님/사나에님/사나에님/사나에/사나에/사나에/사나에/사나에/사나에
	CASE 43	;카나코. 동방 지령전으로 이야기하러 나온 것 뿐
		;※신님이 많이 있는 경우, 이야기가 까다로워지므로 바꾼다. 신님→시즈하, 미노리코, 히나, 카나코, 스와코
		IF K64_GETCHARACOUNT("시즈하/히나/카나코/스와코")
			LOCALS = 카나코짱/카나코짱/카나코짱/카나코님/카나코님/카나코님/카나코님/카나코님/카나코님/카나코님/카나코님/카나코님
		ELSE
			LOCALS = 카나코짱/카나코짱/카나코짱/신님/신님/신님/신님/신님/신님/신님/신님/신님
		ENDIF
	CASE 44	;스와코. 동방 지령전 연결. 왜일까 마법 소녀 같아진다
		;※신님이 많이 있는 경우, 이야기가 까다로워지므로 바꾼다. 신님→시즈하, 미노리코, 히나, 카나코, 스와코
		IF K64_GETCHARACOUNT("미노리코/시즈하/히나/카나코")
			LOCALS = 케로짱/케로짱/케로짱/스와코님/스와코님/스와코님/스와코님/스와코님/스와코님/스와코님/스와코님/스와코님
		ELSE
			LOCALS = 케로짱/케로짱/케로짱/신님/신님/신님/신님/신님/신님/신님/신님/신님
		ENDIF
	CASE 57	;키스메. 지저 연결. 지저에서 고메이치를 무서워하지 않는 것은 귀신 정도라고 하는 일로 해 둔다
		RETURNF "키스메"
	CASE 58	;야마메. 지저 연결
		RETURNF "야마메"
	CASE 59	;파르시. 지저 연결. 주인님 때 우쭐해지는 타입
		LOCALS = 파르시/파르시/파르시/파르시님/주인님/파르시님/파르시/파르시/파르시/파르시/파르시/파르시
	CASE 60	;유우기. 지저 연결. 귀신
		LOCALS = 유우기씨/유우기씨/유우기씨/유우기씨/주인님/유우기씨/유우기씨/유우기씨/유우기씨/유우기씨/유우기씨/유우기씨
	CASE 61	;사토리
		RETURNF "누나"
	CASE 62	;린
		RETURNF "린"
	CASE 63	;하늘
		RETURNF "먹는다"
	CASE 64	;코이시. 이 분기는주인님의 이름을 취하는데 FLAG:2를 도했다때에 사는… 일지도
		RETURNF "나"
	CASE 66	;코가사. 나오지 않고
		RETURNF "코가사"
	CASE 67	;이치린. 지저 연결
		RETURNF "이치린"
	CASE 67	;무라사. 지저 연결
		RETURNF "미나미츠"
	CASE 70	;뱌쿠렌. 동방구문입수로 권유당했다연결
		LOCALS = 뱌쿠렌/뱌쿠렌/뱌쿠렌/성/성/성/스님/스님/스님/스님/스님/스님
	CASE 71	;누에. 지저 연결. 어딘지 모르게플랑 분명하게코이시 분명하게누에는 세트
		LOCALS = 누에/누에/누에/누에/누에/누에/누에/누에/누에/누에/누에/누에
	CASE 72	;하타테. 취재 받았으므로 안면이 있지만 잘 모르기 때문에 미묘한 취급. 텐구는 경계대상
		;※신문가게가 많이 있는 경우, 이야기가 까다로워지므로 바꾼다. 신문가게→문, 하타테
		IF K64_GETCHARABYNAME("문") >= 0
			LOCALS = 당신/이 아이/그 아이/하타테씨/주인님/하타테씨/하타테씨/하타테씨/하타테씨/하타테씨/하타테씨/하타테씨
		ELSE
			LOCALS = 당신/이 아이/그 아이/신문가게/주인님/신문가게/신문가게/신문가게/신문가게/신문가게/신문가게/신문가게
		ENDIF
	CASE 73	;카센. 귀신
		LOCALS = 카센씨/카센씨/카센씨/스승님/스승님/스승님/카센씨/카센씨/카센씨/카센씨/카센씨/카센씨
	CASE 78	;후토. 동방심기앵연결. 도이
		LOCALS = 후토짱/후토짱/후토짱/후토짱/주인님/후토짱/후토짱/후토짱/후토짱/후토짱/후토짱/후토짱
	CASE 79	;미코. 동방심기앵연결
		LOCALS = 미코/미코/미코/태자님/태자님/태자님/미코/미코/미코/미코/미코/미코
	CASE 80	;마미조. 동방심기앵연결. 보통 사람이 아닌 분위기
		LOCALS = 마미조/마미조/마미조/마미조씨/마미조씨/마미조씨/너구리씨/너구리씨/너구리씨/너구리씨/너구리씨/너구리씨
	;그 외의 여러분
	;지장이 나올 것 같은 여러분으로부터 차례차례 독립시킨다방향으로. 주로 격이 다른 여러분을 나눈다
	CASEELSE
		LOCALS = %CALLNAME:(ARG:0)%/%CALLNAME:(ARG:0)%/%CALLNAME:(ARG:0)%/%CALLNAME:(ARG:0)%씨/주인님/%CALLNAME:(ARG:0)%씨/%CALLNAME:(ARG:0)%씨/%CALLNAME:(ARG:0)%씨/%CALLNAME:(ARG:0)%씨/%CALLNAME:(ARG:0)%씨/%CALLNAME:(ARG:0)%씨/%CALLNAME:(ARG:0)%씨
ENDSELECT
RETURNF AUTO_SPLIT(LOCALS, "/", ARG:1)
